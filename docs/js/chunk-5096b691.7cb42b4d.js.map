{"version":3,"sources":["webpack:///./src/components/Polls/Respondents.vue?c239","webpack:///./src/components/Polls/Respondents.vue?5797","webpack:///src/components/Polls/Respondents.vue","webpack:///./src/components/Polls/Respondents.vue?0f52","webpack:///./src/components/Polls/Respondents.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","address","_l","field","index","key","_s","directives","name","rawName","value","expression","childs","length","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","option","domProps","item","itemIndex","TRANSLATE","type","class","model","callback","$$v","_n","condition","preventDefault","addFieldChild","deleteCondition","ERROR","_e","addCondition","sendRequest","staticRenderFns","components","TOInput","getPollsInfo","deleteError","computed","methods","event","sendForm","component"],"mappings":"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","file":"js/chunk-5096b691.7cb42b4d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respondents.vue?vue&type=style&index=0&id=5f455428&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respondents.vue?vue&type=style&index=0&id=5f455428&lang=sass&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.LOADED)?_c('div',{staticClass:\"wrapper\"},[_c('h2',{staticClass:\"top-title\"},[_vm._v(\"Add poll\")]),_c('form',{attrs:{\"action\":_vm.address,\"method\":\"POST\"}},_vm._l((_vm.FIELDS),function(field,index){return _c('div',{key:index,staticClass:\"field\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Condition \"+_vm._s(index + 1))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(field.condition),expression:\"field.condition\"}],staticClass:\"select\",attrs:{\"disabled\":field.childs.length != 0},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(field, \"condition\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.POLLS),function(option){return _c('option',{key:option.value,domProps:{\"value\":option}},[_vm._v(_vm._s(option.name))])}),0)]),_c('div',{staticClass:\"content\"},_vm._l((field.childs),function(item,itemIndex){return _c('div',{key:itemIndex,staticClass:\"item\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.TRANSLATE[item.type])+\" \"+_vm._s(itemIndex + 1))]),_c('div',{class:item.type},[(item.type === 'range')?[_c('div',{staticClass:\"range-input\"},[_c('label',[_vm._v(\"from\"),_c('to-input',{attrs:{\"type\":\"number\"},model:{value:(item.from),callback:function ($$v) {_vm.$set(item, \"from\", _vm._n($$v))},expression:\"item.from\"}})],1),_c('label',[_vm._v(\"to\"),_c('to-input',{attrs:{\"type\":\"number\"},model:{value:(item.to),callback:function ($$v) {_vm.$set(item, \"to\", _vm._n($$v))},expression:\"item.to\"}})],1)])]:[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.value),expression:\"item.value\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"value\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((field.condition.values),function(option){return _c('option',{domProps:{\"value\":option.value}},[_vm._v(_vm._s(option.name))])}),0)]],2)])}),0),_c('div',{staticClass:\"bottom\"},[_c('div'),(field.condition)?_c('div',{staticClass:\"button add\"},[_c('button',{on:{\"click\":function($event){$event.preventDefault();return _vm.addFieldChild({ index: index, type: field.condition.type })}}},[_c('fa-icon',{attrs:{\"icon\":\"plus\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"Add \"+_vm._s(field.condition.type))])],1)]):_c('div'),_c('div',{staticClass:\"button delete\"},[_c('button',{on:{\"click\":function($event){$event.preventDefault();return _vm.deleteCondition(index)}}},[_c('fa-icon',{attrs:{\"icon\":\"trash-alt\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"Delete condition\")])],1)])])])}),0),(_vm.ERROR)?_c('h1',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.ERROR))]):_vm._e(),_c('button',{staticClass:\"addCondition\",on:{\"click\":_vm.addCondition}},[_c('div',{staticClass:\"button-inner\"},[_c('fa-icon',{staticClass:\"plus\",attrs:{\"icon\":\"plus\"}}),_c('div',{staticClass:\"first-line\"},[_vm._v(\"Click to add a new selection condition\")]),_c('div',{staticClass:\"second-line\"},[_vm._v(\"All conditions are interconnected by a logical 'AND'\")])],1)]),_c('div',{staticClass:\"sendRequest\"},[_c('button',{attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();return _vm.sendRequest($event)}}},[_vm._v(\"Send\")])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\r\n.wrapper(v-if=\"LOADED\")\r\n  h2.top-title Add poll\r\n  form(:action=\"address\" method=\"POST\")\r\n    .field(\r\n      v-for=\"(field, index) in FIELDS\"\r\n      :key=\"index\"\r\n    )\r\n      .header\r\n        .title Condition {{ index + 1}}\r\n        select.select(v-model=\"field.condition\" :disabled=\"field.childs.length != 0\")\r\n          option(\r\n            v-for=\"option in POLLS\" \r\n            :key=\"option.value\"\r\n            :value=\"option\"\r\n          ) {{ option.name }}\r\n\r\n      .content\r\n        .item(\r\n          v-for=\"(item, itemIndex) in field.childs\"\r\n          :key=\"itemIndex\"\r\n        )\r\n          .title {{ TRANSLATE[item.type] }} {{ itemIndex + 1 }}\r\n\r\n          div(:class=\"item.type\")\r\n\r\n            template(v-if=\"item.type === 'range'\")\r\n              .range-input\r\n                label from\r\n                  to-input(v-model.number=\"item.from\" type=\"number\")\r\n                label to\r\n                  to-input(v-model.number=\"item.to\" type=\"number\")\r\n\r\n            template(v-else)\r\n              select(v-model=\"item.value\")\r\n                option(\r\n                  v-for=\"option in field.condition.values\"\r\n                  :value=\"option.value\"\r\n                ) {{ option.name }}\r\n\r\n      .bottom\r\n        div\r\n        .button.add(v-if=\"field.condition\")\r\n          button(\r\n            @click.prevent=\"addFieldChild({ index, type: field.condition.type })\"\r\n          )\r\n            fa-icon(icon=\"plus\")\r\n            span.text Add {{ field.condition.type }}\r\n\r\n        div(v-else)\r\n\r\n        .button.delete\r\n          button(\r\n            @click.prevent=\"deleteCondition(index)\"\r\n          )\r\n            fa-icon(icon=\"trash-alt\")\r\n            span.text Delete condition\r\n\r\n  h1.error(v-if=\"ERROR\") {{ ERROR }}\r\n  button.addCondition(@click=\"addCondition\")\r\n    .button-inner\r\n      fa-icon.plus(icon=\"plus\")\r\n      .first-line Click to add a new selection condition\r\n      .second-line All conditions are interconnected by a logical 'AND'\r\n      \r\n  .sendRequest\r\n    button(@click.prevent=\"sendRequest\" type=\"submit\") Send\r\n</template>\r\n\r\n<script>\r\nimport TOInput from \"../TOInput.vue\";\r\n\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"respondents\",\r\n  components: {\r\n    [TOInput.name]: TOInput\r\n  },\r\n  data() {\r\n    return {\r\n      address: \"/\"\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getPollsInfo();\r\n  },\r\n  beforeDestroy() {\r\n    this.deleteError();\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"POLLS\", \"TRANSLATE\", \"LOADED\", \"FIELDS\", \"ERROR\"])\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      \"getPollsInfo\", \r\n      \"addFieldChild\", \r\n      \"deleteCondition\", \r\n      \"addCondition\", \r\n      \"sendForm\", \r\n      \"deleteError\"\r\n    ]),\r\n    sendRequest(event) {\r\n      // some work (send request to server)\r\n      this.sendForm();\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n.top-title\r\n  font-size: 3rem\r\n  margin: 0\r\n  font-weight: 400\r\n.field\r\n  border: 1px solid $Grey \r\n  margin: 1rem 0\r\n  padding: 1.5rem\r\n\r\n  .header\r\n    display: grid\r\n    grid-template-columns: 1fr 2fr\r\n\r\n    .title\r\n      font-size: 2rem\r\n      font-weight: 400\r\n\r\n    .select\r\n\r\n  .content\r\n    .item\r\n      padding-top: 2rem\r\n      display: grid\r\n      grid-template-columns: 1fr 2fr\r\n\r\n      &:not(:first-child)\r\n        .title::before\r\n          content: 'or'\r\n          padding: 0 1rem\r\n          border: 1px solid $Grey\r\n          border-radius: 10px\r\n          margin-right: 1rem\r\n\r\n      .title\r\n        font-size: 1.5rem\r\n        display: flex\r\n        align-items: center\r\n      \r\n      .range-input\r\n        display: flex\r\n\r\n        label\r\n          width: 100px\r\n          padding-right: 2rem\r\n\r\n  .bottom\r\n    padding-top: 3rem\r\n    display: grid\r\n    grid-template-columns: repeat(3, 1fr)\r\n\r\n    .button\r\n      width: 100%\r\n      display: flex\r\n\r\n      &.delete\r\n        justify-content: flex-end\r\n      \r\n      &.delete button, &.add button\r\n        border: 1px solid\r\n        background-color: $White\r\n        border-radius: 1rem\r\n      &.delete button\r\n        border-color: $Red\r\n        color: $Red\r\n      &.add button\r\n        border-color: $Green\r\n        color: $Green\r\n\r\n      button\r\n        padding: 1rem\r\n        cursor: pointer\r\n\r\n        &:focus\r\n          outline: none\r\n        \r\n      .text\r\n        padding-left: 1rem\r\n\r\n.addCondition\r\n  margin-top: 1rem\r\n  border: 1px solid $Green\r\n  padding: 1rem\r\n  cursor: pointer\r\n  width: 100%\r\n  background-color: $White\r\n\r\n  .button-inner \r\n    font-size: 1.5rem\r\n    color: $Green\r\n    width: 100%\r\n    height: 100%\r\n    display: flex\r\n    flex-flow: column nowrap\r\n    justify-content: center\r\n\r\n    .plus\r\n      align-self: center\r\n  \r\n.sendRequest\r\n  width: 100%\r\n  display: flex\r\n  justify-content: flex-end\r\n\r\n  button\r\n    color: $Green\r\n    background-color: $White\r\n    padding: 1.5rem\r\n    font-size: 2rem\r\n    cursor: pointer\r\n    border: 2px solid $Green\r\n    margin-top: 1rem\r\n.error\r\n  color: $Red\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respondents.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Respondents.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Respondents.vue?vue&type=template&id=5f455428&scoped=true&lang=pug&\"\nimport script from \"./Respondents.vue?vue&type=script&lang=js&\"\nexport * from \"./Respondents.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Respondents.vue?vue&type=style&index=0&id=5f455428&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f455428\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}